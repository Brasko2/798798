"""
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
"""

from aiogram import Router, F
from aiogram.types import Message, CallbackQuery
from aiogram.filters import Command
import logging

from ..models.user import User
from ..keyboards.instructions import get_instructions_keyboard, get_instructions_back_keyboard
from ..middleware import AuthMiddleware

router = Router()
router.message.middleware(AuthMiddleware())
router.callback_query.middleware(AuthMiddleware())

logger = logging.getLogger(__name__)


@router.message(Command("instructions"))
@router.message(F.text == "üì≤ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ")
async def cmd_instructions(message: Message, user: User):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /instructions –∏ –∫–Ω–æ–ø–∫–∏ '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ'
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
    """
    try:
        text = "üì≤ <b>–ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ù–ê–°–¢–†–û–ô–ö–ï VPN</b>\n\n"
        text += "–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:\n\n"
        text += "üì± <b>–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</b>\n"
        text += "‚Ä¢ Android - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPN —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n"
        text += "‚Ä¢ iOS (iPhone/iPad) - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è Apple —É—Å—Ç—Ä–æ–π—Å—Ç–≤\n\n"
        
        text += "üíª <b>–ö–æ–º–ø—å—é—Ç–µ—Ä—ã –∏ –Ω–æ—É—Ç–±—É–∫–∏:</b>\n"
        text += "‚Ä¢ Windows - –ø—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π Windows\n"
        text += "‚Ä¢ macOS - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è Mac\n"
        text += "‚Ä¢ Linux - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Linux\n\n"
        
        text += "üåê <b>–î—Ä—É–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</b>\n"
        text += "‚Ä¢ –†–æ—É—Ç–µ—Ä—ã - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPN –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞\n"
        text += "‚Ä¢ Smart TV - –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤\n\n"
        
        text += "–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ üëá"
        
        await message.answer(
            text,
            reply_markup=get_instructions_keyboard()
        )
    except Exception as e:
        logger.error(f"Error in instructions command: {e}")
        await message.answer(
            "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. "
            "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É /support"
        )


@router.callback_query(F.data == "instructions")
async def on_instructions_button(callback: CallbackQuery, user: User):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –¥—Ä—É–≥–∏—Ö –º–µ–Ω—é
    """
    try:
        await cmd_instructions(callback.message, user)
        await callback.answer()
    except Exception as e:
        logger.error(f"Error handling instructions button: {e}")
        await callback.answer("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞", show_alert=True)


@router.callback_query(F.data.startswith("instruction:"))
async def on_platform_selected(callback: CallbackQuery, user: User):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
    """
    try:
        platform = callback.data.split(":")[1]
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
        if platform == "android":
            await show_android_instructions(callback)
        elif platform == "ios":
            await show_ios_instructions(callback)
        elif platform == "windows":
            await show_windows_instructions(callback)
        elif platform == "macos":
            await show_macos_instructions(callback)
        elif platform == "linux":
            await show_linux_instructions(callback)
        elif platform == "router":
            await show_router_instructions(callback)
        elif platform == "smarttv":
            await show_smarttv_instructions(callback)
        else:
            await callback.answer("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ", show_alert=True)
        
    except Exception as e:
        logger.error(f"Error showing instructions: {e}")
        await callback.answer("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", show_alert=True)


async def show_android_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ Android
    """
    text = "üì± <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê ANDROID</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Play Store\n"
    text += "2. –ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´V2rayNG¬ª\n"
    text += "3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ V2rayNG\n"
    text += "2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ ¬´+¬ª –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞¬ª\n"
    text += "4. –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –±–æ—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥\n"
    text += "5. –ù–∞–∂–º–∏—Ç–µ ¬´–û–ö¬ª –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\n\n"
    
    text += "<b>–®–∞–≥ 3:</b> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n"
    text += "1. –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä\n"
    text += "2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´V¬ª –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n"
    text += "3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞\n\n"
    
    text += "<b>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:</b>\n"
    text += "‚Ä¢ –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n"
    text += "‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Å–æ–∑–¥–∞–≤–∞—Ç—å VPN-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n"
    text += "‚Ä¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Wi-Fi\n\n"
    
    text += "–í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: <a href='https://youtu.be/example'>–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube</a>"
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('android'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_ios_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ iOS
    """
    text = "üì± <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê iPHONE/iPAD</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ App Store\n"
    text += "2. –ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´Shadowrocket¬ª\n"
    text += "   (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–ª–∞—Ç–Ω–æ–µ, —Ü–µ–Ω–∞ –æ–∫–æ–ª–æ 199 —Ä—É–±.)\n"
    text += "3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´iOS¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É\n"
    text += "4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Shadowrocket\n"
    text += "5. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å—Å—ã–ª–∫—É –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é\n"
    text += "6. –ù–∞–∂–º–∏—Ç–µ ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è\n\n"
    
    text += "<b>–®–∞–≥ 3:</b> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n"
    text += "1. –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä\n"
    text += "2. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ VPN\n"
    text += "3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä Safari –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞\n\n"
    
    text += "<b>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:</b>\n"
    text += "‚Ä¢ –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n"
    text += "‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É\n"
    text += "‚Ä¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ\n\n"
    
    text += "–í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: <a href='https://youtu.be/example'>–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube</a>"
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('ios'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_windows_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ Windows
    """
    text = "üíª <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê WINDOWS</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n"
    text += "1. –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É V2rayN –ø–æ —Å—Å—ã–ª–∫–µ: <a href='https://github.com/2dust/v2rayN/releases'>–°–∫–∞—á–∞—Ç—å V2rayN</a>\n"
    text += "2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ\n"
    text += "3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª v2rayN.exe\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Windows¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥\n"
    text += "4. –í –ø—Ä–æ–≥—Ä–∞–º–º–µ V2rayN –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´Servers¬ª –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é\n"
    text += "5. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Import from clipboard¬ª\n"
    text += "6. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –≤ —Å–ø–∏—Å–æ–∫\n\n"
    
    text += "<b>–®–∞–≥ 3:</b> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n"
    text += "1. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Set as active server¬ª\n"
    text += "3. –í —Ç—Ä–µ–µ (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª —ç–∫—Ä–∞–Ω–∞) –Ω–∞–π–¥–∏—Ç–µ –∏–∫–æ–Ω–∫—É V2rayN\n"
    text += "4. –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ ¬´Enable V2ray routing¬ª\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞\n\n"
    
    text += "<b>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:</b>\n"
    text += "‚Ä¢ –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ .NET Framework\n"
    text += "‚Ä¢ –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows\n"
    text += "‚Ä¢ –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö\n\n"
    
    text += "–í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: <a href='https://youtu.be/example'>–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube</a>"
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('windows'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_macos_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ macOS
    """
    text = "üçè <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê macOS</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n"
    text += "1. –°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É V2rayU –ø–æ —Å—Å—ã–ª–∫–µ: <a href='https://github.com/yanue/V2rayU/releases'>–°–∫–∞—á–∞—Ç—å V2rayU</a>\n"
    text += "2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π .dmg —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –ø–∞–ø–∫—É Applications\n"
    text += "3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –Ω–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –≤—ã–±–µ—Ä–∏—Ç–µ ¬´–û—Ç–∫—Ä—ã—Ç—å¬ª\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´macOS¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥\n"
    text += "4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É V2rayU –≤ —Å—Ç—Ä–æ–∫–µ –º–µ–Ω—é (–≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å)\n"
    text += "5. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Import from clipboard¬ª\n"
    text += "6. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä\n\n"
    
    text += "<b>–®–∞–≥ 3:</b> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n"
    text += "1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É V2rayU –≤ —Å—Ç—Ä–æ–∫–µ –º–µ–Ω—é\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤\n"
    text += "3. –ù–∞–∂–º–∏—Ç–µ ¬´Turn V2ray-Core On¬ª –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n"
    text += "4. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ macOS\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞\n\n"
    
    text += "<b>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:</b>\n"
    text += "‚Ä¢ –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π, –æ—Ç–∫—Ä–æ–π—Ç–µ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∑–∞–ø—É—Å–∫\n"
    text += "‚Ä¢ –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∑–∞–ø—É—Å–∫–æ–º —É–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ\n"
    text += "‚Ä¢ –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ –≤ –º–µ–Ω—é –ø—Ä–æ–≥—Ä–∞–º–º—ã\n\n"
    
    text += "–í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: <a href='https://youtu.be/example'>–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube</a>"
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('macos'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_linux_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ Linux
    """
    text = "üêß <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê LINUX</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (Ctrl+Alt+T –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤)\n"
    text += "2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ V2ray Core —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã:\n"
    text += "<code>curl -L -s https://install.direct/go.sh | sudo bash</code>\n"
    text += "3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Qv2ray (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):\n"
    text += "<code>sudo apt install qv2ray</code> (–¥–ª—è Debian/Ubuntu)\n"
    text += "<code>sudo pacman -S qv2ray</code> (–¥–ª—è Arch Linux)\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Linux¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥\n"
    text += "4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Qv2ray –∏–∑ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π\n"
    text += "5. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–ò–º–ø–æ—Ä—Ç¬ª –∏ –≤—ã–±–µ—Ä–∏—Ç–µ ¬´–ò–º–ø–æ—Ä—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞¬ª\n"
    text += "6. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä\n\n"
    
    text += "<b>–®–∞–≥ 3:</b> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n"
    text += "1. –í –≥–ª–∞–≤–Ω–æ–º –æ–∫–Ω–µ Qv2ray –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä\n"
    text += "2. –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ ¬´–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —ç—Ç–æ–º—É¬ª\n"
    text += "3. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä—è–¥–æ–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª–µ–Ω—ã–º –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏\n\n"
    
    text += "<b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥):</b>\n"
    text += "1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:\n"
    text += "<code>sudo nano /etc/v2ray/config.json</code>\n"
    text += "2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥\n"
    text += "3. –ù–∞–∂–º–∏—Ç–µ Ctrl+O, –∑–∞—Ç–µ–º Enter –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –∏ Ctrl+X –¥–ª—è –≤—ã—Ö–æ–¥–∞\n"
    text += "4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å V2ray:\n"
    text += "<code>sudo systemctl start v2ray</code>\n"
    text += "5. –î–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:\n"
    text += "<code>sudo systemctl enable v2ray</code>\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:\n"
    text += "<code>curl ifconfig.me</code>\n\n"
    
    text += "<b>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:</b>\n"
    text += "‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞: <code>sudo systemctl status v2ray</code>\n"
    text += "‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: <code>sudo journalctl -u v2ray</code>\n"
    text += "‚Ä¢ –ï—Å–ª–∏ IP –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ\n\n"
    
    text += "–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –Ω–∞—à—É —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏."
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('linux'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_router_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
    """
    text = "üåê <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê –†–û–£–¢–ï–†–ï</b>\n\n"
    
    text += "‚ö†Ô∏è <b>–í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ:</b>\n"
    text += "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ VPN –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—â–∏—Ç–∏—Ç—å –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –≤–∞—à–µ–π —Å–µ—Ç–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏ —Ä–æ—É—Ç–µ—Ä–∞. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –æ–±—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.\n\n"
    
    text += "<b>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–æ—É—Ç–µ—Ä—ã:</b>\n"
    text += "‚Ä¢ AsusWRT (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è Asus)\n"
    text += "‚Ä¢ OpenWRT (–æ—Ç–∫—Ä—ã—Ç–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è –º–Ω–æ–≥–∏—Ö –º–æ–¥–µ–ª–µ–π)\n"
    text += "‚Ä¢ DD-WRT (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞)\n"
    text += "‚Ä¢ –†–æ—É—Ç–µ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Merlin –∏–ª–∏ Padavan\n\n"
    
    text += "<b>–û–±—â–∏–µ —à–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:</b>\n\n"
    
    text += "<b>1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞</b>\n"
    text += "‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Ä–æ—É—Ç–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É VPN-–∫–ª–∏–µ–Ω—Ç–æ–≤\n"
    text += "‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é\n"
    text += "‚Ä¢ –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–æ—É—Ç–µ—Ä–∞ –ø–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π\n\n"
    
    text += "<b>2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</b>\n"
    text += "‚Ä¢ –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ\n"
    text += "‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ ¬´Router¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥\n\n"
    
    text += "<b>3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ Asus (–∫–∞–∫ –ø—Ä–∏–º–µ—Ä)</b>\n"
    text += "‚Ä¢ –í–æ–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–æ—É—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ http://192.168.1.1 –∏–ª–∏ http://router.asus.com)\n"
    text += "‚Ä¢ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª VPN ‚Üí VPN Client\n"
    text += "‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø VPN: OpenVPN –∏–ª–∏ WireGuard (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏)\n"
    text += "‚Ä¢ –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫\n"
    text += "‚Ä¢ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ\n\n"
    
    text += "<b>4. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞</b>\n"
    text += "‚Ä¢ –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—ã–±–æ—Ä–æ—á–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤\n"
    text += "‚Ä¢ –ò–ª–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —Å–µ—Ç–∏ —á–µ—Ä–µ–∑ VPN\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "‚Ä¢ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ –≤–∞—à–µ–π WiFi —Å–µ—Ç–∏\n"
    text += "‚Ä¢ –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ IP-–∞–¥—Ä–µ—Å–∞\n\n"
    
    text += "‚ö†Ô∏è <b>–í–Ω–∏–º–∞–Ω–∏–µ:</b> –ò–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –º–æ–¥–µ–ª–µ–π —Ä–æ—É—Ç–µ—Ä–æ–≤ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –Ω–∞—à—É —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –≤–∞—à–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏."
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('router'),
        disable_web_page_preview=True
    )
    await callback.answer()


async def show_smarttv_instructions(callback: CallbackQuery):
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VPN –Ω–∞ Smart TV
    """
    text = "üì∫ <b>–ù–ê–°–¢–†–û–ô–ö–ê VPN –ù–ê SMART TV</b>\n\n"
    
    text += "‚ö†Ô∏è <b>–í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ:</b>\n"
    text += "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ VPN –Ω–∞ Smart TV –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ (Android TV, Samsung Tizen, LG WebOS –∏ —Ç.–¥.). –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.\n\n"
    
    text += "<b>–ú–µ—Ç–æ–¥ 1: –î–ª—è Smart TV –Ω–∞ Android TV</b>\n\n"
    
    text += "<b>–®–∞–≥ 1:</b> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Play Store –Ω–∞ –≤–∞—à–µ–º —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ\n"
    text += "2. –ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´V2rayNG¬ª –∏–ª–∏ ¬´ExpressVPN¬ª\n"
    text += "3. –ï—Å–ª–∏ Play Store –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK —Ñ–∞–π–ª —á–µ—Ä–µ–∑ USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å\n\n"
    
    text += "<b>–®–∞–≥ 2:</b> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è\n"
    text += "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏¬ª –≤ –Ω–∞—à–µ–º –±–æ—Ç–µ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ\n"
    text += "2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é¬ª\n"
    text += "3. –í—ã–±–µ—Ä–∏—Ç–µ ¬´Android¬ª –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥\n"
    text += "4. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –∫–æ–¥ –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä —á–µ—Ä–µ–∑ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–ª–∏ QR-–∫–æ–¥\n"
    text += "5. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ VPN –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é\n\n"
    
    text += "<b>–ú–µ—Ç–æ–¥ 2: –î–ª—è Samsung Smart TV, LG TV –∏ –¥—Ä—É–≥–∏—Ö</b>\n\n"
    
    text += "–î–ª—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ VPN-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞:\n"
    text += "1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPN –Ω–∞ –≤–∞—à–µ–º —Ä–æ—É—Ç–µ—Ä–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–†–æ—É—Ç–µ—Ä—ã¬ª\n"
    text += "2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Smart TV –∫ —ç—Ç–æ–º—É —Ä–æ—É—Ç–µ—Ä—É\n"
    text += "3. –í–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ –±—É–¥–µ—Ç –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ VPN\n\n"
    
    text += "<b>–ú–µ—Ç–æ–¥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</b>\n\n"
    
    text += "–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VPN:\n"
    text += "‚Ä¢ Amazon Fire TV Stick —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º VPN-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º\n"
    text += "‚Ä¢ Apple TV —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º\n"
    text += "‚Ä¢ Google Chromecast —Å VPN –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–æ—É—Ç–µ—Ä–∞\n\n"
    
    text += "<b>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</b>\n"
    text += "‚Ä¢ –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ Smart TV (–µ—Å–ª–∏ –µ—Å—Ç—å)\n"
    text += "‚Ä¢ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç 2ip.ru –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞\n"
    text += "‚Ä¢ –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–Ω–µ–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º\n\n"
    
    text += "‚ö†Ô∏è <b>–í–Ω–∏–º–∞–Ω–∏–µ:</b> –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π VPN –Ω–∞ –≤–∞—à–µ–º Smart TV, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –Ω–∞—à—É —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–º–æ—â–∏."
    
    await callback.message.edit_text(
        text,
        reply_markup=get_instructions_back_keyboard('smarttv'),
        disable_web_page_preview=True
    )
    await callback.answer() 